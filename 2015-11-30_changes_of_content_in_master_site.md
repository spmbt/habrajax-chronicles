# 2015-11-30. Changes of content in master site.

В связи со сменой вёрстки на сайте код Habrajax убирает из себя все несовместимые функции и будет переписываться с учётом полученного опыта использования. Опыт показывает, что полезно организовать код более гибко и модульно, и поддержать ряд принципов, облегчающих дальнейшую работу и синхронизацию с изменениями сайта.

Стили ZenComment также будут переписаны с реализацией наработанных функций, но будет попытка создать генератор стилей по заданным требуемым функциям. Генератор будет поставлять стили как сами по себе, так и блки кода для интеграции со скриптами, т.к. задачи (настройки) для скриптов тоже создают задачи для генератора стилей.

Отдельно хотелось бы поэкспериментировать с рядом новых задуманных правил и подходов.
* полная смена вёрстки на основании принятой страницы и получения из неё денных (модели), чтобы полностью отвязаться от оформления и необходимости править стили сайта;
* отслеживание за изменениями исходной вёрстки сайта с последующей сигнализацией разработчику и принятием решения о показе своего слоя или отката к показу исходной страницы, если отслеживание считает изменения критическими (в частности, возможность отключения части правил формирования страницы, кнопка или другой способ перехода к более простым стилям или отказа от них, индикатор уровня критичности изменений на основном сайте;
* сохранение модели страницы в буфере браузера (для оффлайн-чтения и для резервной отдачи для других читателей), на резервирующем сервере (для защиты от прерываний раздачи с исходного сайта);
* сервис сбора резервных копий с реализацией системы версий исходных текстов с сайта и выдачей уровней доверия клиентам (браузерам читателей);
* "mesh"-сетевая поддержка независимого от сервера комментирования; фильтрация комментариев по уровню интереса и авторитетности клиентов с точки зрения каждого читателя;
* задачи для стилей: наложение частичных правил оформления: палитра, компактность, колоночность, зависимости от скриптов, чтобы генератор стилей собрал требуемые CSS или скрипты по правилам.
* процедуры наглядного и автотестирования ключевого набора типов страниц (куда могут заглядывать мало, но при желании - тестируется различие вёрсток с более ранними образцами).